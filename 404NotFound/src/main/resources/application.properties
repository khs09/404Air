# =========================
# 애플리케이션 기본 정보
# =========================
spring.application.name=approval

# 포트 설정
server.port=8081
server.address=0.0.0.0
# JSP 뷰 리졸버
spring.mvc.view.prefix=/WEB-INF/views/
spring.mvc.view.suffix=.jsp

# =========================
# 데이터소스 (MySQL)
# - 로컬이 아닌 Docker/다른 호스트면 localhost 대신 실제 호스트/컨테이너 이름과 포트를 사용
# - 기본 포트(3306)가 아니면 URL 포트를 맞춰주세요
# =========================
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.datasource.url=jdbc:mysql://localhost:3306/404notfound?serverTimezone=Asia/Seoul&characterEncoding=UTF-8&useSSL=false&allowPublicKeyRetrieval=true
spring.datasource.username=404notfound
spring.datasource.password=1234

# =========================
# JPA / Hibernate
# =========================
# (선택) 명시적 방언 — 자동감지로도 동작하지만 고정하고 싶으면 유지
spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect

# Open-Session-In-View 비활성화(권장)
spring.jpa.open-in-view=false

# 스키마 자동 생성/변경 전략 (none/create/create-drop/update/validate)
spring.jpa.hibernate.ddl-auto=none

# SQL 로그 보기 및 포맷팅
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# SQL과 바인딩 파라미터까지 로깅
logging.level.org.hibernate.SQL=debug
logging.level.org.hibernate.orm.jdbc.bind=trace

# =========================
# 메일 전송(Gmail SMTP)
# * 실제 운영에서는 앱 비밀번호를 환경변수로 분리하는 것을 권장
# =========================
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=dajub09@gmail.com
spring.mail.password=llng plbe noyv pmot
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# 파일 업로드
app.upload-dir=uploads
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=20MB

# NEW 배지 유지시간 (ISO-8601 Duration 표기)
# PT24H = 24시간, PT3H = 3시간, PT30M = 30분, PT90S = 90초, PT1S = 1초
app.new-badge-duration=PT24H

# reCAPTCHA
recaptcha.secret=${RECAPTCHA_SECRET:6Lf8ZNMrAAAAAJAo1DVqav4X530XTHUje1XbFuUm}
recaptcha.verify-url=https://www.google.com/recaptcha/api/siteverify

# =========================
# 세션 관련 쿠키 설정
# =========================
server.servlet.session.cookie.sameSite=lax
server.servlet.session.cookie.secure=false
server.servlet.session.timeout=-1

# =========================
# 오류 원인 추적용(개발용만)
# =========================
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-exception=true
server.error.include-stacktrace=ALWAYS

# =========================
# 날짜/시간 포맷
# =========================
spring.mvc.date-format=yyyy-MM-dd'T'HH:mm:ss
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.date-format=yyyy-MM-dd'T'HH:mm:ss
